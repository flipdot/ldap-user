{% extends "base.html" %}

{% block title %}Index{% endblock %}
{% block content %}
    {% if session.username %}
        <h1>Hello {{ form.uid.data }}!</h1>
        <h2>
            Here, you can edit yourself.
            <span class="small">Why would you want to do that?</span>
        </h2>

        {% from "_formhelper.html" import render_field %}
        {% from "_formhelper.html" import render_list_field %}
        <form action="{{ url_for('user') }}" method="post">
            <h3>GECOS</h3>
            {{ render_field(form.uid) }}
            {{ render_field(form.sammyNick) }}
            {{ render_field(form.mail) }}

            {% for sshKey in form.sshKeys %}
                {{ render_field(sshKey) }}
            {% endfor %}
            <button type="submit" name="submit" value="addSSH">
                <i class="fa fa-plus" aria-hidden="true"></i>
                Add SSH Key
            </button>

            {% for mac in form.macs %}
                {{ render_list_field(mac) }}
            {% endfor %}
            <button type="submit" name="submit" value="addMAC">
                <i class="fa fa-plus" aria-hidden="true"></i>
                Add Mac
            </button>

            <h3>Password</h3>
            {{ render_field(form.oldPassword) }}
            {{ render_field(form.password) }}
            {{ render_field(form.confirm) }}

            <div class="sticky-footer">
                <button class="submit-btn" type="submit" name="submit" value="submit">
                    <i class="fa fa-save" aria-hidden="true"></i>
                    Save
                </button>
            </div>
        </form>
    {% else %}
        <h1>Hello World!</h1>
    {% endif %}
{% endblock %}
